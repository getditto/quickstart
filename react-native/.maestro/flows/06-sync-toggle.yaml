appId: com.dittoreactnativesampleapp
tags:
  - "sync"
  - "core"
---
# Test: Ditto Sync Toggle
# This flow tests the sync on/off functionality

- launchApp:
    appId: com.dittoreactnativesampleapp
    arguments:
      - "--e2e-testing"

- runFlow:
    when:
      visible: "Permission"
    commands:
      - tapOn: "Allow"

- assertVisible: 
    text: "Ditto Tasks"
    timeout: 10000

# Verify sync is initially ON
- assertVisible: "Sync: ON"

# Toggle sync to OFF
- tapOn: "Sync: ON"

# Wait for toggle animation
- waitForAnimationToEnd

# Verify sync is now OFF
- assertVisible: "Sync: OFF"

# Toggle sync back to ON
- tapOn: "Sync: OFF"

# Wait for toggle animation
- waitForAnimationToEnd

# Verify sync is back ON
- assertVisible: "Sync: ON"