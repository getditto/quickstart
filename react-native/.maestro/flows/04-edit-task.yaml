appId: com.dittoreactnativesampleapp
tags:
  - "core"
  - "edit"
---
# Test: Edit Task Title
# This flow tests the task editing functionality via long press

- launchApp:
    appId: com.dittoreactnativesampleapp
    arguments:
      - "--e2e-testing"

- runFlow:
    when:
      visible: "Permission"
    commands:
      - tapOn: "Allow"

- assertVisible: 
    text: "Ditto Tasks"
    timeout: 10000

# Create a task first
- tapOn: "+"
- assertVisible: "Add Task"

- runScript: |
    const timestamp = Date.now();
    output.originalTitle = `Original Task ${timestamp}`;
    output.editedTitle = `Edited Task ${timestamp}`;

- tapOn:
    id: "task-input"
- inputText: "${output.originalTitle}"
- tapOn: "Add Task"
- assertNotVisible: "Add Task"
- assertVisible: "${output.originalTitle}"

# Long press on the task to open edit modal
- longPressOn: "${output.originalTitle}"

# Edit modal should appear
- assertVisible: "Edit Task"
- assertVisible:
    id: "edit-task-input"

# Clear existing text and enter new title
- tapOn:
    id: "edit-task-input"
- clearText
- inputText: "${output.editedTitle}"

- tapOn: "Save"

# Wait for modal to close
- assertNotVisible: "Edit Task"

# Verify the task title was updated
- assertVisible: "${output.editedTitle}"
- assertNotVisible: "${output.originalTitle}"