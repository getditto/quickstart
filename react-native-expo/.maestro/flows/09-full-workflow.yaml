appId: com.anonymous.reactnativeexpo
tags:
  - "workflow"
  - "comprehensive"
  - "e2e"
---
# Test: Complete Task Management Workflow
# This flow tests the complete user journey through all task management features
- launchApp:
    appId: com.anonymous.reactnativeexpo
- runFlow:
    when:
      visible: "Permission"
    commands:
      - tapOn: "Allow"
- assertVisible: 
    text: "Ditto Tasks"
# Generate test data
- runScript: |
    const timestamp = Date.now();
    output.task1 = `First Task ${timestamp}`;
    output.task2 = `Second Task ${timestamp}`;
    output.editedTask1 = `Edited First Task ${timestamp}`;
# Create first task
- tapOn: "+"
- assertVisible: "Add Task"
- tapOn:
    id: "task-input"
- inputText: "${output.task1}"
- tapOn: "Add Task"
- assertNotVisible: "Add Task"
- assertVisible: "${output.task1}"
# Create second task
- tapOn: "+"
- assertVisible: "Add Task"
- tapOn:
    id: "task-input"
- inputText: "${output.task2}"
- tapOn: "Add Task"
- assertNotVisible: "Add Task"
- assertVisible: "${output.task2}"
# Mark first task as complete
- tapOn:
    near: "${output.task1}"
    id: "task-checkbox"
- waitForAnimationToEnd
# Edit second task
- longPressOn: "${output.task2}"
- assertVisible: "Edit Task"
- tapOn:
    id: "edit-task-input"
- clearText
- inputText: "${output.editedTask1}"
- tapOn: "Save"
- assertNotVisible: "Edit Task"
- assertVisible: "${output.editedTask1}"
# Toggle sync off and on
- tapOn: "Sync: ON"
- waitForAnimationToEnd
- assertVisible: "Sync: OFF"
- tapOn: "Sync: OFF"
- waitForAnimationToEnd
- assertVisible: "Sync: ON"
# Delete the edited task
- tapOn:
    text: "Delete"
    near: "${output.editedTask1}"
- waitForAnimationToEnd
- assertNotVisible: "${output.editedTask1}"
# Verify first task is still there and completed
- assertVisible: "${output.task1}"